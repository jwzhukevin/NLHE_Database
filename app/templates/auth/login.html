{% extends 'base.html' %}

{% block content %}
<!-- ========== 登录英雄区域 ========== -->
<section class="login-hero">
    <div class="container">
        <h1>User Login</h1>
        <p>Access to NLHE Database features</p>
    </div>
</section>

<style>
    /* ========== 登录英雄区域样式 ========== */
    .login-hero {
        /* 设置上下内边距创造良好的视觉空间 */
        padding: 4rem 0 2rem;
        /* 文本居中对齐,使标题和描述文字居中显示 */
        text-align: center;
        /* 使用渐变背景色创建深蓝色到深靛蓝的过渡效果 */
        /* 135deg - 从左上角到右下角的对角线渐变 */
        /* #003c85 - 起始颜色：深蓝色 */
        /* #0d274b - 结束颜色：深靛蓝色 */
        background: linear-gradient(135deg, #003c85, #0d274b);
        /* 文字颜色设为白色,在深色背景上形成鲜明对比 */
        color: white;
    }

    .login-hero h1 {
        /* 使用clamp()函数设置响应式字体大小 */
        /* 最小2rem,最大3rem,中间值为5vw(视窗宽度的5%) */
        font-size: clamp(2rem, 5vw, 3rem);
        /* 标题底部外边距1rem,与描述文字保持间距 */
        margin-bottom: 1rem;
        /* 行高1.2,提高标题文字的可读性 */
        line-height: 1.2;
    }

    .login-hero p {
        /* 使用clamp()函数设置响应式字体大小 */
        /* 最小1rem,最大1.25rem,中间值为2vw */
        font-size: clamp(1rem, 2vw, 1.25rem);
        /* 最大宽度600px,防止文字行过长影响阅读 */
        max-width: 600px;
        /* 水平居中对齐 */
        margin: 0 auto;
        /* 设置90%不透明度,使文字略微柔和 */
        opacity: 0.9;
    }
    
    /* 新增：选项卡样式 */
    .login-tabs {
        display: flex;
        justify-content: center;
        margin-bottom: 1.5rem;
        gap: 1rem;
    }
    
    .login-tab {
        padding: 0.75rem 1.5rem;
        background-color: rgba(255, 255, 255, 0.2);
        color: white;
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .login-tab.active {
        background-color: white;
        color: #003c85;
        font-weight: 600;
    }
    
    .login-tab:hover:not(.active) {
        background-color: rgba(255, 255, 255, 0.3);
    }
</style>

<!-- ========== 登录表单区域 ========== -->
<section class="login-form-section">
    <div class="container">
        <div class="login-container">
            <div class="login-tabs">
                <div class="login-tab" id="tab-user">User Login</div>
                <div class="login-tab" id="tab-admin">Admin Login</div>
            </div>
            
            <div class="login-warning" id="admin-warning" style="display: none;">
                <i class="fas fa-exclamation-triangle warning-icon"></i>
                <div class="warning-text">
                    <h3>Restricted Access</h3>
                    <p>WARNING: This login area is strictly for administrators only. Unauthorized login attempts are monitored. Three failed login attempts will result in your IP being blocked from accessing this website.</p>
                </div>
            </div>
            
            <div class="login-warning" id="user-info" style="background-color: #e6f7ff; border-left-color: #1890ff;">
                <i class="fas fa-info-circle warning-icon" style="color: #1890ff;"></i>
                <div class="warning-text">
                    <h3>User Access</h3>
                    <p>Login to access additional features including downloading band and SC structure data. If you don't have an account, you can still browse the database as a visitor.</p>
                </div>
            </div>
            
            <div class="login-form-container">
                <h2 id="login-form-title">User Authentication</h2>
                <form method="post" class="login-form">
                    <input type="hidden" id="login-type" name="login_type" value="user">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="login-btn" id="login-button">Login</button>
                        <a href="{{ url_for('views.index') }}" class="cancel-btn">Return to Database</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const userTab = document.getElementById('tab-user');
        const adminTab = document.getElementById('tab-admin');
        const userInfo = document.getElementById('user-info');
        const adminWarning = document.getElementById('admin-warning');
        const loginFormTitle = document.getElementById('login-form-title');
        const loginTypeInput = document.getElementById('login-type');
        const loginButton = document.getElementById('login-button');
        
        userTab.classList.add('active');
        
        userTab.addEventListener('click', function() {
            userTab.classList.add('active');
            adminTab.classList.remove('active');
            userInfo.style.display = 'flex';
            adminWarning.style.display = 'none';
            loginFormTitle.textContent = 'User Authentication';
            loginTypeInput.value = 'user';
            loginButton.textContent = 'Login';
        });
        
        adminTab.addEventListener('click', function() {
            adminTab.classList.add('active');
            userTab.classList.remove('active');
            userInfo.style.display = 'none';
            adminWarning.style.display = 'flex';
            loginFormTitle.textContent = 'Administrator Login';
            loginTypeInput.value = 'admin';
            loginButton.textContent = 'Login as Administrator';
        });
    });
</script>

<style>
    /* ========== 登录表单区域样式 ========== */
    .login-form-section {
        /* 设置上下内边距2rem和4rem,左右内边距0 */
        padding: 2rem 0 4rem;
        /* 设置浅灰色背景 */
        background-color: #f8fafc;
    }

    .login-container {
        /* 设置最大宽度800px */
        max-width: 800px;
        /* 水平居中 */
        margin: 0 auto; /* 设置上下外边距为0,左右外边距自动,实现容器水平居中 */
        /* 使用flex布局,垂直排列 */
        display: flex;
        flex-direction: column;
        /* 设置元素间距为2rem */
        gap: 2rem;
    }

    /* 警告提示样式 */
    .login-warning {
        /* 使用flex布局,水平排列 */
        display: flex;
        /* 顶部对齐 */
        align-items: flex-start;
        /* 设置元素间距为1.5rem */
        gap: 1.5rem;
        /* 设置浅黄色警告背景 */
        background-color: #fff3cd;
        /* 左边框加粗显示警告色 */
        border-left: 5px solid #ffc107;
        /* 设置内边距1.5rem */
        padding: 1.5rem;
        /* 圆角8px */
        border-radius: 8px;
        /* 添加浅阴影效果 */
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }

    .warning-icon {
        /* 设置图标大小2rem */
        font-size: 2rem;
        /* 设置橙色警告图标 */
        color: #ff9800;
        /* 微调图标顶部间距 */
        margin-top: 0.2rem;
    }

    .warning-text h3 {
        /* 设置深褐色标题 */
        color: #654500;
        /* 设置底部间距0.5rem */
        margin-bottom: 0.5rem;
        /* 设置标题字号1.2rem */
        font-size: 1.2rem;
    }

    .warning-text p {
        /* 设置深褐色文字 */
        color: #654500;
        /* 设置文字大小0.95rem */
        font-size: 0.95rem;
        /* 设置行高1.5倍 */
        line-height: 1.5;
    }

    /* 登录表单容器样式 */
    .login-form-container {
        background-color: white;
        padding: 2.5rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .login-form-container h2 {
        color: #0047AB;
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
        text-align: center;
    }

    /* 登录表单样式 */
    .login-form {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .form-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .form-group label {
        font-weight: 600;
        color: #333;
        font-size: 0.95rem;
    }

    .form-group input {
        height: 3rem;
        padding: 0 1rem;
        border: 1px solid #E5E7EB;
        border-radius: 6px;
        font-size: 1rem;
        transition: all 0.2s;
    }

    .form-group input:focus {
        border-color: #0047AB;
        box-shadow: 0 0 0 3px rgba(0, 71, 171, 0.1);
        outline: none;
    }

    /* 表单操作按钮样式 */
    .form-actions {
        display: flex;
        justify-content: space-between;
        margin-top: 1rem;
    }

    .login-btn, .cancel-btn {
        padding: 0.75rem 1.5rem;
        /* clamp(最小值, 首选值, 最大值)
           - 最小值: 按钮文字最小不小于
           - 首选值: 按钮文字随视窗宽度变化,为视窗宽度的0.8%
           - 最大值: 按钮文字最大不超过 */
        font-size: clamp(1.0rem, 0.8vw, 1.5rem);
        border-radius: 6px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
        text-align: center;
    }

    .login-btn {
        background-color: #0047AB;
        color: white;
        border: none;
        flex: 1;
        margin-right: 1rem;
    }

    .login-btn:hover {
        background-color: #003A8C;
        transform: translateY(-2px);
    }

    .cancel-btn {
        background-color: white;
        color: #555;
        border: 1px solid #E5E7EB;
        text-decoration: none;
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .cancel-btn:hover {
        background-color: #f5f5f5;
        transform: translateY(-2px);
    }
</style>
{% endblock %}

