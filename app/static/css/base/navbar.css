/* [base/navbar.css] 由 base.html 内联样式迁移。导航栏与相关下拉/用户指示样式 */

/* ========== 导航栏样式 ========== */
/* 导航栏容器,固定在页面顶部 */
.navbar {
    background-color: rgb(181, 222, 253);  /* 浅蓝色背景 */
    box-shadow: var(--card-shadow);        /* 添加阴影效果 */
    padding: var(--spacing-md) 0;          /* 上下内边距 */
    position: fixed;                       /* 固定定位 */
    width: 100%;                          /* 宽度100% */
    top: 0;                               /* 固定在顶部 */
    z-index: 1000;                        /* 确保导航栏在最上层 */
    margin-bottom: 0;                     /* 移除底部边距 */
}

/* 导航栏内容布局 */
.nav-content {
    display: flex;                        /* 弹性布局 */
    justify-content: space-between;       /* 两端对齐 */
    align-items: center;                  /* 垂直居中 */
    overflow: visible;                    /* 允许内部下拉溢出 */
}

/* Logo样式 */
.logo {
    font-size: var(--font-size-xl);       /* 大字体尺寸 */
    font-weight: 700;                     /* 加粗字体 */
    color: var(--primary-color);          /* 主题色 */
    text-decoration: none;                /* 移除下划线 */
}

/* 导航链接容器 */
.nav-links {
    display: flex;                        /* 弹性布局 */
    gap: 0.75rem;                         /* 紧凑间距 */
    position: relative;                   /* 相对定位 */
    flex-wrap: nowrap;                    /* 不换行 */
    white-space: nowrap;                  /* 不自动换行 */
    overflow: visible;                    /* 允许下拉菜单可见，溢出由“更多”收纳控制 */
}

/* 导航链接样式 */
.nav-links a {
    color: var(--text-color);            /* 文字颜色 */
    text-decoration: none;                /* 移除下划线 */
    font-weight: 500;                     /* 中等字重 */
    padding: 0.35rem 0.6rem;              /* 更紧凑的内边距 */
    border-radius: var(--button-radius);  /* 圆角边框 */
    transition: all 0.3s ease;            /* 过渡动画 */
    display: flex;                        /* 弹性布局 */
    align-items: center;                  /* 垂直居中 */
    gap: var(--spacing-sm);              /* 图标和文字间距 */
}

.nav-links .dropdown-toggle {
    padding: 0.35rem 0.6rem;              /* 下拉触发与链接统一内边距 */
}

/* 更多下拉默认隐藏，由JS根据是否有收纳项决定显示 */
.more-dropdown { display: none; }

/* 导航链接悬停效果 */
.nav-links a:hover {
    color: var(--primary-color);          /* 主题色 */
    background-color: var(--light-bg);    /* 浅色背景 */
}

/* 导航链接图标样式 */
.nav-links a i {
    font-size: 1rem;                      /* 图标大小 */
}

/* ===== 下拉菜单样式 ===== */
/* 下拉菜单容器 */
.dropdown { position: relative; }
/* 下拉菜单触发按钮 */
.dropdown-toggle { cursor: pointer; }
/* 下拉菜单列表 */
.dropdown-menu {
    display: none;                         /* 默认隐藏 */
    position: absolute;                    /* 绝对定位 */
    top: 100%;                            /* 位于触发按钮下方 */
    left: 0;                              /* 左对齐 */
    background-color: rgb(181, 222, 253);  /* 与导航栏同色 */
    border-radius: var(--button-radius);   /* 圆角边框 */
    box-shadow: var(--card-shadow);        /* 阴影效果 */
    min-width: 240px;                      /* 最小宽度 */
    z-index: 3001;                         /* 提升层级，避免被裁剪 */
    flex-direction: column;                /* 垂直排列 */
    margin-top: 5px;                       /* 与触发按钮的间距 */
}
/* 下拉菜单项样式 */
.dropdown-menu a { padding: var(--spacing-md); border-radius: 0; width: 100%; }
/* 第一个菜单项圆角 */
.dropdown-menu a:first-child { border-top-left-radius: var(--button-radius); border-top-right-radius: var(--button-radius); }
/* 最后一个菜单项圆角 */
.dropdown-menu a:last-child { border-bottom-left-radius: var(--button-radius); border-bottom-right-radius: var(--button-radius); }
/* 下拉菜单项悬停效果 */
.dropdown-menu a:hover { background-color: var(--light-bg); }
/* 显示下拉菜单 */
.dropdown-menu.show { display: flex; }

/* ===== 响应式设计 ===== */
@media (max-width: 768px) {
  .nav-links { display: none; }           /* 在小屏幕上隐藏导航链接 */
}

/* 用户类型提示样式 */
.user-type-indicator { display: flex; align-items: center; margin-left: 1.5rem; font-size: 1.08rem; font-weight: 500; gap: 0.4rem; }
.user-avatar { display: inline-flex; align-items: center; justify-content: center; font-size: 1.5rem; border-radius: 50%; width: 2.1rem; height: 2.1rem; margin-right: 0.3rem; }
.user-avatar.user { background: rgba(33, 150, 243, 0.18); color: #2196f3; }
.user-avatar.admin { background: rgba(220, 53, 69, 0.18); color: #dc3545; }
.user-avatar.guest { background: rgba(255,255,255,0.7); color: #bbb; border: 1.5px solid #eee; }
.user-name { color: #222; font-size: 1.08rem; font-weight: 500; letter-spacing: 0.01em; }
.user-avatar.admin + .user-name { color: #dc3545; }
.user-avatar.user + .user-name { color: #2196f3; }
.user-avatar.guest + .user-name { color: #888; }
/* 用户类型提示+下拉菜单样式 */
.user-type-indicator.user-dropdown { position: relative; cursor: pointer; }
.user-type-indicator .user-dropdown-menu {
    display: none; position: absolute; top: 120%; right: 0; min-width: 160px; background: #fff; border-radius: 8px; box-shadow: 0 4px 16px rgba(0,0,0,0.13); z-index: 3000; padding: 0.5em 0; font-size: 1rem; font-weight: 500;
}
.user-type-indicator .user-dropdown-menu a { display: flex; align-items: center; gap: 0.6em; color: #333; padding: 0.7em 1.2em; text-decoration: none; border-radius: 6px; transition: background 0.2s; }
.user-type-indicator .user-dropdown-menu a:hover { background: #f0f4fa; color: #1976d2; }
.user-type-indicator.user-dropdown.active .user-dropdown-menu { display: block; }
